<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3D OSM Buildings with Leaflet</title>



  <!-- Latest Leaflet -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css">
  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js"></script>

  <script src="https://cdn.osmbuildings.org/classic/0.2.2b/OSMBuildings-Leaflet.js"></script>
  
  
  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">  
  
  
  <script src="https://cdn.jsdelivr.net/npm/leaflet.awesome-markers@2.0.5/dist/leaflet.awesome-markers.min.js"></script>
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.awesome-markers@2.0.5/dist/leaflet.awesome-markers.min.css">  

  <style>
	html, body {
		height: 100%;
		margin: 0;
		}
		
		
		
	.leaflet-container {
		height: 70%;
		width: 70%;
		margin-left: 300px;
		max-width: 100%;
		max-height: 100%;
		}
    
    /* Updated button container */
    .controls {
      position: absolute;
      top: 10px;
      left: 10px;
      background: rgba(255, 255, 255, 0.8);
      padding: 10px;
      border-radius: 5px;
      box-shadow: 0px 0px 5px gray;
      z-index: 1000; /* Ensures buttons stay on top */
    }

    button {
      display: block;
      margin: 5px 0;
      padding: 10px 15px;
      cursor: pointer;
      border: none;
      background: #007bff;
      color: white;
      font-size: 14px;
      border-radius: 5px;
      transition: 0.3s;
    }

    button:hover {
      background: #0056b3;
    }
  </style>
</head>
<body>

  <div id="map"></div>

  <div class="controls">
    <button id="toggleNationalArchive">Toggle National Archive</button>
    <button id="toggleBotanicalGarden">Toggle Botanical Garden</button>
    <button id="toggleHospital">Toggle Hospital</button>
    <button id="toggleLibrary">Toggle Library</button>
    <button id="toggleMuseum">Toggle Museum</button>
    <button id="togglePrivateCounselling">Toggle Private Counselling</button>
    <button id="toggleStudentResidence">Toggle Student Residence</button>
    <button id="toggleUTBuildings">Toggle UT Buildings</button>
    <button id="toggleUTLibrary">Toggle UT Library</button>
    <button id="toggleUTLibraryGym">Toggle UT Library Gym</button>
    <button id="toggleUTLibraryMuseum">Toggle UT Library Museum</button>
    <button id="toggleUTMuseum">Toggle UT Museum</button>



  </div>

  <script>
    var map = new L.Map('map').setView([58.379158, 26.720323], 16.5);

    L.tileLayer('https://tile-a.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
      attribution: '© Data <a href="https://openstreetmap.org/copyright/">OpenStreetMap</a>',
      maxZoom: 18,
      maxNativeZoom: 20
    }).addTo(map);

    var osmb = new OSMBuildings(map)
      .load('https://{s}.data.osmbuildings.org/0.2/59fcc2e8/tile/{z}/{x}/{y}.json'); 

    // Define GeoJSON layers (not adding them to the map initially)
    const nationalArchiveGeoJSON = {
      "type": "FeatureCollection",
      "features": [
        {
          "type": "Feature",
          "properties": { "Name": "National Archives of Estonia", "Address": "Nooruse tn 3" },
          "geometry": { "type": "Point", "coordinates": [26.692316545214879, 58.365802869338118] }
        }
      ]
    };

    const botanicalGardenGeoJSON = {
      "type": "FeatureCollection",
      "features": [
        {
          "type": "Feature",
          "properties": { "Name": "University of Tartu Botanical Garden", "Address": "Lai tn 38" },
          "geometry": { "type": "Point", "coordinates": [26.721348200571551, 58.384275620593442] }
        }
      ]
    };

    const hospitalGeoJSON = {
      "type": "FeatureCollection",
      "features": [
        {
          "type": "Feature",
          "properties": { "Name": "Tartu University Hospital", "Address": "L. Puusepa tn 8" },
          "geometry": { "type": "Point", "coordinates": [26.700222185535026, 58.369472078552469] }
        }
      ]
    };
	
	
	const libraryGeoJSON = {"type":"FeatureCollection","name":"library_10","crs":{"type":"name","properties":{"name":"urn:ogc:def:crs:OGC:1.3:CRS84"}},"features":[{"type":"Feature","properties":{"fid":"1","ads_lahiaa":"Ülikooli tn 11","type_tt":"Library","Address":"Ülikooli tn 11","Name":"Library of the Finnish Institute"},"geometry":{"type":"Point","coordinates":[26.721113207867511,58.380532663105775]}},{"type":"Feature","properties":{"fid":"2","ads_lahiaa":"Lossi tn 17","type_tt":"Library","Address":"Lossi tn 17","Name":"Supreme Court of Estonia Library"},"geometry":{"type":"Point","coordinates":[26.715559774909384,58.379378568070834]}},{"type":"Feature","properties":{"fid":"3","ads_lahiaa":"Suur kaar 56/1","type_tt":"Library","Address":"Suur kaar 56/1","Name":"Tartu City Library Tammelinna branch library"},"geometry":{"type":"Point","coordinates":[26.703494891241629,58.362226508834212]}},{"type":"Feature","properties":{"fid":"4","ads_lahiaa":"Tehase tn 16","type_tt":"Library","Address":"Tehase tn 16","Name":"Tartu City Library Karlova-Ropka branch library"},"geometry":{"type":"Point","coordinates":[26.732070020480108,58.360996332530505]}},{"type":"Feature","properties":{"fid":"5","ads_lahiaa":"Kaunase pst 23","type_tt":"Library","Address":"Kaunase pst 23","Name":"Tartu Public Library's Annelinn Branch"},"geometry":{"type":"Point","coordinates":[26.767733068260164,58.375707284522008]}},{"type":"Feature","properties":{"fid":"6","ads_lahiaa":"W. Struve tn 2","type_tt":"Library","Address":"W. Struve tn 2","Name":"Estonian Naturalists’ Society Library"},"geometry":{"type":"Point","coordinates":[26.72143638307378,58.377430971323228]}},{"type":"Feature","properties":{"fid":"7","ads_lahiaa":"Rüütli tn 21","type_tt":"Library","Address":"Rüütli tn 21","Name":"Tartu Art Museum Library"},"geometry":{"type":"Point","coordinates":[26.721010211319758,58.382938842865698]}},{"type":"Feature","properties":{"fid":"8","ads_lahiaa":"Kompanii tn 3 // 5","type_tt":"Library","Address":"Kompanii tn 3 // 5","Name":"Tartu Public Library"},"geometry":{"type":"Point","coordinates":[26.723636793519333,58.381429400272893]}},{"type":"Feature","properties":{"fid":"9","ads_lahiaa":"L. Tolstoi tn 4","type_tt":"Library","Address":"L. Tolstoi tn 4","Name":"Library of Pallas University of Applied Sciences (Pallas) and Tartu Art School (TK)"},"geometry":{"type":"Point","coordinates":[26.730034680769162,58.369181711086711]}}]}
	
	const museumGeoJSON = {"type":"FeatureCollection","name":"museum_1_9","crs":{"type":"name","properties":{"name":"urn:ogc:def:crs:OGC:1.3:CRS84"}},"features":[{"type":"Feature","properties":{"fid":"1","ads_lahiaa":"Narva mnt 23","type_tt":"Museum","Address":"Narva mnt 23","Name":"Tartu City Museum"},"geometry":{"type":"Point","coordinates":[26.728983092689802,58.381992055934425]}},{"type":"Feature","properties":{"fid":"2","ads_lahiaa":"Rüütli tn 15","type_tt":"Museum","Address":"Rüütli tn 15","Name":"Estonian Sports and Olympic Museum"},"geometry":{"type":"Point","coordinates":[26.721381894840803,58.38241689410399]}},{"type":"Feature","properties":{"fid":"3","ads_lahiaa":"Sadama tn 1","type_tt":"Museum","Address":"Sadama tn 1","Name":"AHHAA Science Centre"},"geometry":{"type":"Point","coordinates":[26.734534270953223,58.376503051989481]}},{"type":"Feature","properties":{"fid":"4","ads_lahiaa":"Muuseumi tee 2","type_tt":"Museum","Address":"Muuseumi tee 2","Name":"Estonian National Museum"},"geometry":{"type":"Point","coordinates":[26.744305652331459,58.39537578975105]}},{"type":"Feature","properties":{"fid":"5","ads_lahiaa":"Vanemuise tn 42","type_tt":"Museum","Address":"Vanemuise tn 42","Name":"Estonian Literary Museum"},"geometry":{"type":"Point","coordinates":[26.717768006036238,58.373879889091775]}}]}    // Add GeoJSON data to the map

	const private_counsellingsGeoJSON = {"type":"FeatureCollection","name":"private_counsellings_5","crs":{"type":"name","properties":{"name":"urn:ogc:def:crs:OGC:1.3:CRS84"}},"features":[{"type":"Feature","properties":{"fid":"1","ads_lahiaa":"Riia tn 15b","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Riia tn 15b","Name":"Eesti Pereteraapia Keskus (Family consultations, Family therapy training center )"},"geometry":{"type":"Point","coordinates":[26.719892117000914,58.373252401924333]}},{"type":"Feature","properties":{"fid":"3","ads_lahiaa":"Jaama tn 71","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Jaama tn 71","Name":"Cognitive Behavioral Therapy Center"},"geometry":{"type":"Point","coordinates":[26.740618219191973,58.383571690506898]}},{"type":"Feature","properties":{"fid":"4","ads_lahiaa":"Vaksali tn 17","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Vaksali tn 17","Name":"Tartu University Hospital Sexual Health Center"},"geometry":{"type":"Point","coordinates":[26.709879043610776,58.372605581943333]}},{"type":"Feature","properties":{"fid":"7","ads_lahiaa":"Tähe tn 95","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Tähe tn 95","Name":"ProVida Kliinik"},"geometry":{"type":"Point","coordinates":[26.729813786545968,58.361623423081596]}},{"type":"Feature","properties":{"fid":"8","ads_lahiaa":"Lääneringtee 39","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Lääneringtee 39","Name":"Sexual health counseling center"},"geometry":{"type":"Point","coordinates":[26.677893682951112,58.359511413315403]}},{"type":"Feature","properties":{"fid":"9","ads_lahiaa":"Vaksali tn 6","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Vaksali tn 6","Name":"NGO Consciousness Laboratory in Tartu"},"geometry":{"type":"Point","coordinates":[26.706721892590572,58.373769817132256]}},{"type":"Feature","properties":{"fid":"10","ads_lahiaa":"Kastani tn 42","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Kastani tn 42","Name":"Psychotherapist Katri Lamesoo"},"geometry":{"type":"Point","coordinates":[26.715989895176648,58.370545453598353]}},{"type":"Feature","properties":{"fid":"11","ads_lahiaa":"Raatuse tn 21","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Raatuse tn 21","Name":"Confido Tartu"},"geometry":{"type":"Point","coordinates":[26.731003123524857,58.381659192275954]}},{"type":"Feature","properties":{"fid":"12","ads_lahiaa":"Raatuse tn 21","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Raatuse tn 21","Name":"Tartu City Polyclinic"},"geometry":{"type":"Point","coordinates":[26.731003123524857,58.381659192275954]}},{"type":"Feature","properties":{"fid":"14","ads_lahiaa":"Teguri tn 37b","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Teguri tn 37b","Name":"AJK mental health clinics"},"geometry":{"type":"Point","coordinates":[26.732838562400907,58.358257935565135]}},{"type":"Feature","properties":{"fid":"15","ads_lahiaa":"Kivi tn 23","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Kivi tn 23","Name":"E.G.U. Erapraksis"},"geometry":{"type":"Point","coordinates":[26.730755376747503,58.382977490188203]}},{"type":"Feature","properties":{"fid":"16","ads_lahiaa":"Sangla tn 63","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Sangla tn 63","Name":"Elite Clinic"},"geometry":{"type":"Point","coordinates":[26.684429098107536,58.370230781046637]}},{"type":"Feature","properties":{"fid":"17","ads_lahiaa":"Riia tn 132","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Riia tn 132","Name":"Victim assistance in Tartu County"},"geometry":{"type":"Point","coordinates":[26.687810000810941,58.35960573738361]}},{"type":"Feature","properties":{"fid":"18","ads_lahiaa":"Tähtvere tn 4","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Tähtvere tn 4","Name":"Gestalt psychotherapist Helen Kaljuvee-Sepp"},"geometry":{"type":"Point","coordinates":[26.71354322346307,58.382966956778787]}},{"type":"Feature","properties":{"fid":"19","ads_lahiaa":"Raja tn 31","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Raja tn 31","Name":"Tartu University Hospital\nPsychiatric clinic"},"geometry":{"type":"Point","coordinates":[26.681332539970022,58.36327839573827]}},{"type":"Feature","properties":{"fid":"20","ads_lahiaa":"Kalevi tn 103a","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Kalevi tn 103a","Name":"Psychologist and career coach Imbi Jaks in Tartu"},"geometry":{"type":"Point","coordinates":[26.734064969058267,58.365238382397322]}},{"type":"Feature","properties":{"fid":"21","ads_lahiaa":"Ilmatsalu tn 5","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Ilmatsalu tn 5","Name":"Music Therapy Clinic"},"geometry":{"type":"Point","coordinates":[26.689421526215011,58.377430885740559]}},{"type":"Feature","properties":{"fid":"22","ads_lahiaa":"Soola tn 2","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Soola tn 2","Name":"Dorpat Tervis"},"geometry":{"type":"Point","coordinates":[26.727715043751306,58.375976281144062]}},{"type":"Feature","properties":{"fid":"23","ads_lahiaa":"Aleksandri tn 8","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Aleksandri tn 8","Name":"Children's Health School"},"geometry":{"type":"Point","coordinates":[26.730672264890387,58.375806732910867]}},{"type":"Feature","properties":{"fid":"24","ads_lahiaa":"Vaksali tn 14","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Vaksali tn 14","Name":"Tartu Counseling and Crisis Assistance Center"},"geometry":{"type":"Point","coordinates":[26.704516919311743,58.375400748640203]}},{"type":"Feature","properties":{"fid":"25","ads_lahiaa":"Riia tn 13","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Riia tn 13","Name":"A-CLINIC"},"geometry":{"type":"Point","coordinates":[26.721243028798384,58.373756350713606]}},{"type":"Feature","properties":{"fid":"26","ads_lahiaa":"Riia tn 128/1","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Riia tn 128/1","Name":"ProVida Clinic"},"geometry":{"type":"Point","coordinates":[26.689883701509217,58.360192036309471]}},{"type":"Feature","properties":{"fid":"27","ads_lahiaa":"Vanemuise tn 8","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Vanemuise tn 8","Name":"Parem Pere (Better Family)"},"geometry":{"type":"Point","coordinates":[26.722828294508727,58.376252551380269]}},{"type":"Feature","properties":{"fid":"28","ads_lahiaa":"Sõbra tn 56","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Sõbra tn 56","Name":"TST Centrum"},"geometry":{"type":"Point","coordinates":[26.742841403665686,58.365136283488397]}},{"type":"Feature","properties":{"fid":"29","ads_lahiaa":"Vaksali tn 17a","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Vaksali tn 17a","Name":"Activitas"},"geometry":{"type":"Point","coordinates":[26.709551498271331,58.372958725894648]}},{"type":"Feature","properties":{"fid":"30","ads_lahiaa":"Kaunase pst 11","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Kaunase pst 11","Name":"NGO Tartu Children's Support Centre"},"geometry":{"type":"Point","coordinates":[26.766538190529367,58.374108119663632]}},{"type":"Feature","properties":{"fid":"31","ads_lahiaa":"Veski tn 69","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Veski tn 69","Name":"Tartu Women’s Shelter"},"geometry":{"type":"Point","coordinates":[26.711556671000917,58.376913094415038]}},{"type":"Feature","properties":{"fid":"32","ads_lahiaa":"Riia tn 2","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Riia tn 2","Name":"Meliva"},"geometry":{"type":"Point","coordinates":[26.728897747915095,58.376932609365895]}},{"type":"Feature","properties":{"fid":"34","ads_lahiaa":"L. Puusepa tn 3","type_tt":"Counselling and psychotherapy centres and clinics","Address":"L. Puusepa tn 3","Name":"OÜ Jaanson & Lääne"},"geometry":{"type":"Point","coordinates":[26.702835559930243,58.368692950872614]}},{"type":"Feature","properties":{"fid":"35","ads_lahiaa":"Lembitu tn 1e","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Lembitu tn 1e","Name":"Family practice in Tartu"},"geometry":{"type":"Point","coordinates":[26.707603622475528,58.369993448928966]}},{"type":"Feature","properties":{"fid":"36","ads_lahiaa":"Ülikooli tn 3","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Ülikooli tn 3","Name":"Phoenix Consultations"},"geometry":{"type":"Point","coordinates":[26.722644539357461,58.379209381780484]}},{"type":"Feature","properties":{"fid":"37","ads_lahiaa":"Võru tn 3","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Võru tn 3","Name":"In Juventus"},"geometry":{"type":"Point","coordinates":[26.721292201283983,58.371166410732734]}},{"type":"Feature","properties":{"fid":"39","ads_lahiaa":"Mõisavahe tn 34c","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Mõisavahe tn 34c","Name":"Katriito mental health clinics"},"geometry":{"type":"Point","coordinates":[26.779732024613629,58.371655164461231]}},{"type":"Feature","properties":{"fid":"40","ads_lahiaa":"Ülikooli tn 10","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Ülikooli tn 10","Name":"Tartu Toome Center"},"geometry":{"type":"Point","coordinates":[26.72230570570456,58.378981827734215]}},{"type":"Feature","properties":{"fid":"41","ads_lahiaa":"Lai tn 28","type_tt":"Counselling and psychotherapy centres and clinics","Address":"Lai tn 28","Name":"Ambromed Clinic"},"geometry":{"type":"Point","coordinates":[26.718848344288947,58.383490037778238]}}]}	

	const student_residentGeoJSON = {"type":"FeatureCollection","name":"student_resident_4","crs":{"type":"name","properties":{"name":"urn:ogc:def:crs:OGC:1.3:CRS84"}},"features":[{"type":"Feature","properties":{"fid":"1","ads_lahiaa":"Tiigi tn 14","type_tt":"Student Residence","Address":"Tiigi tn 14","Name":"Student Residence"},"geometry":{"type":"Point","coordinates":[26.713069890519513,58.374379391778582]}},{"type":"Feature","properties":{"fid":"2","ads_lahiaa":"Narva mnt 89","type_tt":"Student Residence","Address":"Narva mnt 89","Name":"Student Residence"},"geometry":{"type":"Point","coordinates":[26.727232887784648,58.385785727635515]}},{"type":"Feature","properties":{"fid":"3","ads_lahiaa":"Purde tn 27","type_tt":"Student Residence","Address":"Purde tn 27","Name":"Student Residence"},"geometry":{"type":"Point","coordinates":[26.737294632646993,58.362581960853518]}},{"type":"Feature","properties":{"fid":"4","ads_lahiaa":"Nooruse tn 7","type_tt":"Student Residence","Address":"Nooruse tn 7","Name":"Student Residence"},"geometry":{"type":"Point","coordinates":[26.690112298506904,58.364931460385101]}},{"type":"Feature","properties":{"fid":"5","ads_lahiaa":"Raatuse tn 22","type_tt":"Student Residence","Address":"Raatuse tn 22","Name":"Student Residence"},"geometry":{"type":"Point","coordinates":[26.732060914164474,58.382581757496204]}},{"type":"Feature","properties":{"fid":"6","ads_lahiaa":"Pepleri tn 14","type_tt":"Student Residence","Address":"Pepleri tn 14","Name":"Student Residence"},"geometry":{"type":"Point","coordinates":[26.719407320772739,58.374423592692104]}},{"type":"Feature","properties":{"fid":"7","ads_lahiaa":"Narva mnt 25","type_tt":"Student Residence","Address":"Narva mnt 25","Name":"Student Residence"},"geometry":{"type":"Point","coordinates":[26.728289187238556,58.38286021569585]}},{"type":"Feature","properties":{"fid":"8","ads_lahiaa":"Narva mnt 27","type_tt":"Student Residence","Address":"Narva mnt 27","Name":"Student Residence"},"geometry":{"type":"Point","coordinates":[26.727505052699293,58.383826045460722]}}]}	
	
	const ut_buildingsGeoJSON = {"type":"FeatureCollection","name":"ut_buildings_12","crs":{"type":"name","properties":{"name":"urn:ogc:def:crs:OGC:1.3:CRS84"}},"features":[{"type":"Feature","properties":{"fid":"1","ads_lahiaa":"Ülikooli tn 18b","type_tt":"University Building","Address":"Ülikooli tn 18b","Name":"Student Union Office"},"geometry":{"type":"Point","coordinates":[26.719820391387884,58.381539863800114]}},{"type":"Feature","properties":{"fid":"2","ads_lahiaa":"Ülikooli tn 16","type_tt":"University Building","Address":"Ülikooli tn 16","Name":"Institute of Cultural Research"},"geometry":{"type":"Point","coordinates":[26.720507289696531,58.38052257594186]}},{"type":"Feature","properties":{"fid":"3","ads_lahiaa":"Riia tn 23","type_tt":"University Building","Address":"Riia tn 23","Name":"Institute of Molecular and Cell Biology"},"geometry":{"type":"Point","coordinates":[26.718283646434671,58.372698257369102]}},{"type":"Feature","properties":{"fid":"4","ads_lahiaa":"Riia tn 23b","type_tt":"University Building","Address":"Riia tn 23b","Name":"Institute of Molecular and Cell Biology"},"geometry":{"type":"Point","coordinates":[26.717803897801858,58.372986758651791]}},{"type":"Feature","properties":{"fid":"5","ads_lahiaa":"Ravila tn 14b","type_tt":"University Building","Address":"Ravila tn 14b","Name":"Institute of Biomedicine and Translational Medicine"},"geometry":{"type":"Point","coordinates":[26.692155388090598,58.367595002754427]}},{"type":"Feature","properties":{"fid":"6","ads_lahiaa":"Narva mnt 20","type_tt":"University Building","Address":"Narva mnt 20","Name":"Institute of Computer Science, Institute of Mathematics and Statistics, School of Economics and Business Administration, Institute of Technology"},"geometry":{"type":"Point","coordinates":[26.725918033142499,58.38528242786618]}}]}	

	const ut_libraryGeoJSON = {"type":"FeatureCollection","name":"ut_library_3","crs":{"type":"name","properties":{"name":"urn:ogc:def:crs:OGC:1.3:CRS84"}},"features":[{"type":"Feature","properties":{"fid":"1","ads_lahiaa":"Ülikooli tn 17","type_tt":"University Building with Library","Address":"Ülikooli tn 17","Name":"Institute of Cutural Research Library"},"geometry":{"type":"Point","coordinates":[26.720792553337215,58.381304663272019]}},{"type":"Feature","properties":{"fid":"2","ads_lahiaa":"Jakobi tn 5","type_tt":"University Building with Library","Address":"Jakobi tn 5","Name":"Institute of Educational Sciences Library"},"geometry":{"type":"Point","coordinates":[26.718178654894853,58.381860289723264]}},{"type":"Feature","properties":{"fid":"3","ads_lahiaa":"Ravila tn 19","type_tt":"University Building with Library","Address":"Ravila tn 19","Name":"Biomedicum Library"},"geometry":{"type":"Point","coordinates":[26.695767836415346,58.368421378337487]}},{"type":"Feature","properties":{"fid":"4","ads_lahiaa":"Ravila tn 14a","type_tt":"University Building with Library","Address":"Ravila tn 14a","Name":"Chemistry Library, Department of Geology Library"},"geometry":{"type":"Point","coordinates":[26.692938270758152,58.367071760107066]}},{"type":"Feature","properties":{"fid":"5","ads_lahiaa":"W. Struve tn 1","type_tt":"University Building with Library","Address":"W. Struve tn 1","Name":"Tartu University Library"},"geometry":{"type":"Point","coordinates":[26.720562720422983,58.37669484844011]}},{"type":"Feature","properties":{"fid":"6","ads_lahiaa":"Lembitu tn 24","type_tt":"University Building with Library","Address":"Lembitu tn 24","Name":"Centre of Medical Information at the UT Hospital, Library"},"geometry":{"type":"Point","coordinates":[26.704042659157249,58.368315184919318]}},{"type":"Feature","properties":{"fid":"7","ads_lahiaa":"W. Ostwaldi tn 1","type_tt":"University Building with Library","Address":"W. Ostwaldi tn 1","Name":"Institute of Physics Library"},"geometry":{"type":"Point","coordinates":[26.690283902905762,58.3664432894046]}},{"type":"Feature","properties":{"fid":"8","ads_lahiaa":"Ravila tn 19","type_tt":"University Building with Library","Address":"Ravila tn 19","Name":"Biomedicum Library"},"geometry":{"type":"Point","coordinates":[26.694243258634849,58.368183250498156]}},{"type":"Feature","properties":{"fid":"9","ads_lahiaa":"Lossi tn 36","type_tt":"University Building with Library","Address":"Lossi tn 36","Name":"Social studies library"},"geometry":{"type":"Point","coordinates":[26.716937664682266,58.379033768079978]}},{"type":"Feature","properties":{"fid":"10","ads_lahiaa":"Lossi tn 3","type_tt":"University Building with Library","Address":"Lossi tn 3","Name":"Institute of Foreign Languages ​​and Cultures Library"},"geometry":{"type":"Point","coordinates":[26.719737906852142,58.380158632547975]}},{"type":"Feature","properties":{"fid":"11","ads_lahiaa":"Nooruse tn 1","type_tt":"University Building with Library","Address":"Nooruse tn 1","Name":"Institute of Pharmacy Library"},"geometry":{"type":"Point","coordinates":[26.694531176169782,58.36597902352301]}},{"type":"Feature","properties":{"fid":"12","ads_lahiaa":"Näituse tn 20","type_tt":"University Building with Library","Address":"Näituse tn 20","Name":"Information Centre at luridicum Library"},"geometry":{"type":"Point","coordinates":[26.705733704237581,58.378233770690898]}},{"type":"Feature","properties":{"fid":"13","ads_lahiaa":"Jakobi tn 2","type_tt":"University Building with Library","Address":"Jakobi tn 2","Name":"Institute of Estonian and General Linguistics Library, Department of Semiotics Library, Department of Archaeology Library, Institute of Estonian and General Linguistics Library "},"geometry":{"type":"Point","coordinates":[26.719585532113477,58.380428237963166]}},{"type":"Feature","properties":{"fid":"14","ads_lahiaa":"Näituse tn 13a","type_tt":"University Building with Library","Address":"Näituse tn 13a","Name":"School of Law Library"},"geometry":{"type":"Point","coordinates":[26.705667389812728,58.378741039859108]}},{"type":"Feature","properties":{"fid":"15","ads_lahiaa":"J. Liivi tn 2","type_tt":"University Building with Library","Address":"J. Liivi tn 2","Name":"Department of Zoology Library"},"geometry":{"type":"Point","coordinates":[26.714615056291539,58.37826431169362]}}]}	

	const ut_library_gymGeoJSON = {"type":"FeatureCollection","name":"ut_library_gym_8","crs":{"type":"name","properties":{"name":"urn:ogc:def:crs:OGC:1.3:CRS84"}},"features":[{"type":"Feature","properties":{"fid":"1","ads_lahiaa":"Ujula tn 4","type_tt":"University Building with Library and Gym","Address":"Ujula tn 4","Name":"University of Tartu Academic Sports Club, Institute of Sport Sciences and Physiotherapy Library"},"geometry":{"type":"Point","coordinates":[26.721818003554553,58.388334238478734]}}]}

	const ut_library_museumGeoJSON = {"type":"FeatureCollection","name":"ut_library_museum_2","crs":{"type":"name","properties":{"name":"urn:ogc:def:crs:OGC:1.3:CRS84"}},"features":[{"type":"Feature","properties":{"fid":"1","ads_lahiaa":"Narva mnt 18","type_tt":"University Building with Library and  Museum","Address":"Narva mnt 18","Name":"Delta Library, Tartu University Computer Museum"},"geometry":{"type":"Point","coordinates":[26.725407212486665,58.385398615203016]}},{"type":"Feature","properties":{"fid":"2","ads_lahiaa":"Ülikooli tn 18","type_tt":"University Building with Library and  Museum","Address":"Ülikooli tn 18","Name":"Center for Oriental Study Library, University of Tartu Art Museum"},"geometry":{"type":"Point","coordinates":[26.71966771366732,58.381070637483909]}}]}	

	const ut_museumGeoJSON = {"type":"FeatureCollection","name":"ut_museum_7","crs":{"type":"name","properties":{"name":"urn:ogc:def:crs:OGC:1.3:CRS84"}},"features":[{"type":"Feature","properties":{"fid":"1","ads_lahiaa":"Lossi tn 25","type_tt":"University Building with Museum","Address":"Lossi tn 25","Name":"University of Tartu Museum"},"geometry":{"type":"Point","coordinates":[26.715378105183447,58.380241125806769]}},{"type":"Feature","properties":{"fid":"2","ads_lahiaa":"Vanemuise tn 46","type_tt":"University Building with Museum","Address":"Vanemuise tn 46","Name":"University of Tartu Natural History Museum"},"geometry":{"type":"Point","coordinates":[26.716287902400172,58.373374184571766]}},{"type":"Feature","properties":{"fid":"3","ads_lahiaa":"Uppsala tn 8","type_tt":"University Building with Museum","Address":"Uppsala tn 8","Name":"Tartu Old Observatory"},"geometry":{"type":"Point","coordinates":[26.720093219095634,58.378811598531854]}}]}






    // Create layers with Awesome Markers
    var nationalArchiveLayer = L.geoJson(nationalArchiveGeoJSON, {
      pointToLayer: function (feature, latlng) {
        var awesomeMarker = L.AwesomeMarkers.icon({
          icon: 'fa-archive', markerColor: 'blue', prefix: 'fa', iconColor: 'white'
        });
        return L.marker(latlng, { icon: awesomeMarker })
          .bindPopup(`<b>${feature.properties.Name}</b><br>${feature.properties.Address}`);
      }
    });

    var botanicalGardenLayer = L.geoJson(botanicalGardenGeoJSON, {
      pointToLayer: function (feature, latlng) {
        var awesomeMarker = L.AwesomeMarkers.icon({
          icon: 'tree', markerColor: 'green', prefix: 'fa', iconColor: 'white'
        });
        return L.marker(latlng, { icon: awesomeMarker })
          .bindPopup(`<b>${feature.properties.Name}</b><br>${feature.properties.Address}`);
      }
    });

    var hospitalLayer = L.geoJson(hospitalGeoJSON, {
      pointToLayer: function (feature, latlng) {
        var awesomeMarker = L.AwesomeMarkers.icon({
          icon: 'hospital', markerColor: 'red', prefix: 'fa', iconColor: 'white'
        });
        return L.marker(latlng, { icon: awesomeMarker })
          .bindPopup(`<b>${feature.properties.Name}</b><br>${feature.properties.Address}`);
      }
    });
	
	
	var libraryLayer = L.geoJson(libraryGeoJSON, {
	  pointToLayer: function (feature, latlng) {
			var awesomeMarker = L.AwesomeMarkers.icon({
			  icon: 'museum', markerColor: 'blue', prefix: 'fa', iconColor: 'white'
			});
			return L.marker(latlng, { icon: awesomeMarker })
			  .bindPopup(`<b>${feature.properties.Name}</b><br>${feature.properties.Address}`);
		  }
		});
	
	
	var museumLayer = L.geoJson(museumGeoJSON, {
	  pointToLayer: function (feature, latlng) {
		var awesomeMarker = L.AwesomeMarkers.icon({
		  icon: 'museum', markerColor: 'blue', prefix: 'fa', iconColor: 'white'
		});
		return L.marker(latlng, { icon: awesomeMarker })
		  .bindPopup(`<b>${feature.properties.Name}</b><br>${feature.properties.Address}`);
	  }
	});
	
	
	
    var privateCounsellingLayer = L.geoJson(private_counsellingsGeoJSON, {
	  pointToLayer: function (feature, latlng) {
		var awesomeMarker = L.AwesomeMarkers.icon({
		  icon: 'users', markerColor: 'green', prefix: 'fa', iconColor: 'white'
		});
		return L.marker(latlng, { icon: awesomeMarker })
		  .bindPopup(`<b>${feature.properties.Name}</b><br>${feature.properties.Address}`);
	  }
	});

    var studentResidentLayer = L.geoJson(student_residentGeoJSON, {
	  pointToLayer: function (feature, latlng) {
		var awesomeMarker = L.AwesomeMarkers.icon({
		  icon: 'home', markerColor: 'orange', prefix: 'fa', iconColor: 'white'
		});
		return L.marker(latlng, { icon: awesomeMarker })
		  .bindPopup(`<b>${feature.properties.Name}</b><br>${feature.properties.Address}`);
	  }
	});


    var utBuildingsLayer = L.geoJson(ut_buildingsGeoJSON, {
	  pointToLayer: function (feature, latlng) {
		var awesomeMarker = L.AwesomeMarkers.icon({
		  icon: 'building', markerColor: 'purple', prefix: 'fa', iconColor: 'white'
		});
		return L.marker(latlng, { icon: awesomeMarker })
		  .bindPopup(`<b>${feature.properties.Name}</b><br>${feature.properties.Address}`);
	  }
	});




	var utLibraryLayer = L.geoJson(ut_libraryGeoJSON, {
	  pointToLayer: function (feature, latlng) {
		var awesomeMarker = L.AwesomeMarkers.icon({
		  icon: 'book', markerColor: 'red', prefix: 'fa', iconColor: 'white'
		});
		return L.marker(latlng, { icon: awesomeMarker })
		  .bindPopup(`<b>${feature.properties.Name}</b><br>${feature.properties.Address}`);
	  }
	});


    var utLibraryGymLayer = L.geoJson(ut_library_gymGeoJSON, {
	  pointToLayer: function (feature, latlng) {
		var awesomeMarker = L.AwesomeMarkers.icon({
		  icon: 'dumbbell', markerColor: 'blue', prefix: 'fa', iconColor: 'white'
		});
		return L.marker(latlng, { icon: awesomeMarker })
		  .bindPopup(`<b>${feature.properties.Name}</b><br>${feature.properties.Address}`);
	  }
	});


    var utLibraryMuseumLayer = L.geoJson(ut_library_museumGeoJSON, {
	  pointToLayer: function (feature, latlng) {
		var awesomeMarker = L.AwesomeMarkers.icon({
		  icon: 'university', markerColor: 'green', prefix: 'fa', iconColor: 'white'
		});
		return L.marker(latlng, { icon: awesomeMarker })
		  .bindPopup(`<b>${feature.properties.Name}</b><br>${feature.properties.Address}`);
	  }
	});

    var utMuseumLayer = L.geoJson(ut_museumGeoJSON, {
	  pointToLayer: function (feature, latlng) {
		var awesomeMarker = L.AwesomeMarkers.icon({
		  icon: 'museum', markerColor: 'purple', prefix: 'fa', iconColor: 'white'
		});
		return L.marker(latlng, { icon: awesomeMarker })
		  .bindPopup(`<b>${feature.properties.Name}</b><br>${feature.properties.Address}`);
	  }
	});

	
	
	function zoomToLayer(layer) {
      var bounds = layer.getBounds(); // Get the bounds of the layer
      map.fitBounds(bounds); // Fit the map to those bounds, zooming in/out accordingly
    }

	
	

    // Toggle functions
 function toggleLayer(layer, zoomFunction) {
      if (map.hasLayer(layer)) {
        map.removeLayer(layer);
      } else {
        map.addLayer(layer);
        zoomFunction(layer); // Zoom to the layer when it's shown
      }
    }
	






    document.getElementById('toggleNationalArchive').addEventListener('click', function() {
      toggleLayer(nationalArchiveLayer, zoomToLayer);
    });

    document.getElementById('toggleBotanicalGarden').addEventListener('click', function() {
      toggleLayer(botanicalGardenLayer, zoomToLayer);
    });

    document.getElementById('toggleHospital').addEventListener('click', function() {
      toggleLayer(hospitalLayer, zoomToLayer);
    });
	
	
    document.getElementById('toggleLibrary').addEventListener('click', function() {
      toggleLayer(libraryLayer, zoomToLayer);
    });	
	
	
    document.getElementById('toggleMuseum').addEventListener('click', function() {
      toggleLayer(museumLayer, zoomToLayer);
    });


    document.getElementById('togglePrivateCounselling').addEventListener('click', function() {
      toggleLayer(privateCounsellingLayer, zoomToLayer);
    });


    document.getElementById('toggleStudentResidence').addEventListener('click', function() {
      toggleLayer(studentResidentLayer, zoomToLayer);
    });


    document.getElementById('toggleUTBuildings').addEventListener('click', function() {
      toggleLayer(utBuildingsLayer, zoomToLayer);
    });


    document.getElementById('toggleUTLibrary').addEventListener('click', function() {
      toggleLayer(utLibraryLayer, zoomToLayer);
    });


    document.getElementById('toggleUTLibraryGym').addEventListener('click', function() {
      toggleLayer(utLibraryGymLayer, zoomToLayer);
    });



    document.getElementById('toggleUTLibraryMuseum').addEventListener('click', function() {
      toggleLayer(utLibraryMuseumLayer, zoomToLayer);
    });



    document.getElementById('toggleUTMuseum').addEventListener('click', function() {
      toggleLayer(utMuseumLayer, zoomToLayer);
    });





  </script>
</body>
</html>
